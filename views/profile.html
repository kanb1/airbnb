%include("_header")
% import x

<main id="profile" class="mt-16 p-4">

        <main class="flex flex-col items-center">
            <section id="items" class="grid grid-cols-[1fr_1fr] gap-4">
                <div class="bg-green-600 text-white p-4">
                <h1>My profile information:</h1>
                <p>{{user['user_name']}}</p>
                <p>{{user['user_last_name']}}</p>
                <p>{{user['user_email']}}</p>
                </div>
                <form id="frm_edit_profile" mix-data="#frm_edit_profile" mix-put="/profile/edit" mix-redirect="/profile" class="flex flex-col gap-4 w-full max-w-md">
                    <input type="text" name="user_name" value="{{user['user_name']}}" placeholder="First Name" mix-check="{{x.USER_NAME_REGEX}}" required>
                    <input type="text" name="user_last_name" value="{{user['user_last_name']}}" placeholder="Last Name" mix-check="{{x.USER_LAST_NAME_REGEX}}" required>
                    <input type="email" name="user_email" value="{{user['user_email']}}" placeholder="Email" mix-check="{{x.EMAIL_REGEX}}" required>
                    <button class="bg-blue-500 text-white p-2" mix-put="/profile/edit" mix-data="#frm_edit_profile" mix-default="Save changes" mix-await="Please wait ...">Save changes</button>
                </form>
            
                <form id="frm_delete_profile" class="flex flex-col gap-4 w-full max-w-md mt-8">
                    <input type="password" name="password" placeholder="Enter password to delete account" required>
                    <button type="submit" class="bg-red-500 text-white p-2" mix-post="/profile/delete" mix-default="Delete Profile" mix-await="Processing..." mix-data="#frm_delete_profile">Delete Profile</button>
                    <div id="delete_profile_message" class="mt-4 text-red-500"></div>
                </form>
                
            </section>

        </main>
        

</main>

%include("_footer")